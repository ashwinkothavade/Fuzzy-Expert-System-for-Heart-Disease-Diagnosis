<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Disease Diagnosis System</title>
    <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">
</head>
<body>
    <div class="main-wrapper">
        <div class="header">
            <h1>‚ù§Ô∏è Heart Disease Diagnosis System</h1>
            <p class="subtitle">AI-Powered Fuzzy Logic Expert System</p>
        </div>

        <form action="/result" method="post" id="diagnosisForm">
            <div class="card">
                <h2 class="section-title">üìã Patient Information</h2>
                
                <div class="form-grid">
                    <!-- Age -->
                    <div class="input-group">
                        <label for="age">
                            <span class="label-icon">üë§</span>
                            <span class="label-text">Age</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="age" name="age" min="0" max="100" value="30" oninput="age_value.value = this.value">
                            <output id="age_value" class="output-value">30</output>
                            <span class="unit">years</span>
                        </div>
                        <div class="range-labels">
                            <span>0</span>
                            <span>100</span>
                        </div>
                    </div>

                    <!-- Sex -->
                    <div class="input-group">
                        <label for="sex">
                            <span class="label-icon">‚öß</span>
                            <span class="label-text">Gender</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="sex" name="sex" min="0" max="1" value="0" oninput="updateSexLabel(this.value)">
                            <output id="sex_value" class="output-value">Male</output>
                        </div>
                        <div class="range-labels">
                            <span>Male</span>
                            <span>Female</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2 class="section-title">üíì Cardiovascular Metrics</h2>
                
                <div class="form-grid">
                    <!-- Blood Pressure -->
                    <div class="input-group">
                        <label for="blood_pressure">
                            <span class="label-icon">ü©∫</span>
                            <span class="label-text">Blood Pressure</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="blood_pressure" name="blood_pressure" min="0" max="350" value="120" oninput="blood_pressure_value.value = this.value">
                            <output id="blood_pressure_value" class="output-value">120</output>
                            <span class="unit">mmHg</span>
                        </div>
                        <div class="range-labels">
                            <span>0</span>
                            <span>350</span>
                        </div>
                    </div>

                    <!-- Heart Rate -->
                    <div class="input-group">
                        <label for="heart_rate">
                            <span class="label-icon">üíó</span>
                            <span class="label-text">Heart Rate</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="heart_rate" name="heart_rate" min="0" max="600" value="72" oninput="heart_rate_value.value = this.value">
                            <output id="heart_rate_value" class="output-value">72</output>
                            <span class="unit">bpm</span>
                        </div>
                        <div class="range-labels">
                            <span>0</span>
                            <span>600</span>
                        </div>
                    </div>

                    <!-- Chest Pain -->
                    <div class="input-group">
                        <label for="chest_pain">
                            <span class="label-icon">ü´Ä</span>
                            <span class="label-text">Chest Pain Type</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="chest_pain" name="chest_pain" min="1" max="4" value="1" oninput="updateChestPainLabel(this.value)">
                            <output id="chest_pain_value" class="output-value">Typical Angina</output>
                        </div>
                        <div class="range-labels">
                            <span>Type 1</span>
                            <span>Type 4</span>
                        </div>
                    </div>

                    <!-- ECG -->
                    <div class="input-group">
                        <label for="ecg">
                            <span class="label-icon">üìà</span>
                            <span class="label-text">ECG Result</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="ecg" name="ecg" min="-0.5" max="2.5" step="0.1" value="0" oninput="ecg_value.value = this.value">
                            <output id="ecg_value" class="output-value">0</output>
                        </div>
                        <div class="range-labels">
                            <span>-0.5</span>
                            <span>2.5</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2 class="section-title">üß™ Laboratory Tests</h2>
                
                <div class="form-grid">
                    <!-- Cholesterol -->
                    <div class="input-group">
                        <label for="cholestrol">
                            <span class="label-icon">üß¨</span>
                            <span class="label-text">Cholesterol</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="cholestrol" name="cholestrol" min="0" max="600" value="200" oninput="cholestrol_value.value = this.value">
                            <output id="cholestrol_value" class="output-value">200</output>
                            <span class="unit">mg/dL</span>
                        </div>
                        <div class="range-labels">
                            <span>0</span>
                            <span>600</span>
                        </div>
                    </div>

                    <!-- Blood Sugar -->
                    <div class="input-group">
                        <label for="blood_sugar">
                            <span class="label-icon">üç¨</span>
                            <span class="label-text">Blood Sugar</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="blood_sugar" name="blood_sugar" min="0" max="200" value="100" oninput="blood_sugar_value.value = this.value">
                            <output id="blood_sugar_value" class="output-value">100</output>
                            <span class="unit">mg/dL</span>
                        </div>
                        <div class="range-labels">
                            <span>0</span>
                            <span>200</span>
                        </div>
                    </div>

                    <!-- Thallium Scan -->
                    <div class="input-group">
                        <label for="thallium_scan">
                            <span class="label-icon">‚ò¢Ô∏è</span>
                            <span class="label-text">Thallium Scan</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="thallium_scan" name="thallium_scan" min="3" max="7" value="3" oninput="updateThalliumLabel(this.value)">
                            <output id="thallium_scan_value" class="output-value">Normal</output>
                        </div>
                        <div class="range-labels">
                            <span>Normal</span>
                            <span>High</span>
                        </div>
                    </div>

                    <!-- Old Peak -->
                    <div class="input-group">
                        <label for="old_peak">
                            <span class="label-icon">üìâ</span>
                            <span class="label-text">ST Depression</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="old_peak" name="old_peak" min="0" max="10" step="0.1" value="0" oninput="old_peak_value.value = this.value">
                            <output id="old_peak_value" class="output-value">0</output>
                        </div>
                        <div class="range-labels">
                            <span>0</span>
                            <span>10</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2 class="section-title">üèÉ Physical Activity</h2>
                
                <div class="form-grid">
                    <!-- Exercise -->
                    <div class="input-group">
                        <label for="exercise">
                            <span class="label-icon">üèãÔ∏è</span>
                            <span class="label-text">Exercise Induced Angina</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="range" id="exercise" name="exercise" min="0" max="1" value="0" oninput="updateExerciseLabel(this.value)">
                            <output id="exercise_value" class="output-value">No</output>
                        </div>
                        <div class="range-labels">
                            <span>No</span>
                            <span>Yes</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="button-container">
                <button type="submit" class="submit-button">
                    <span class="button-icon">üîç</span>
                    Analyze Heart Health
                </button>
            </div>
        </form>
    </div>

    <script>
        function updateChestPainLabel(value) {
            const labels = ['', 'Typical Angina', 'Atypical Angina', 'Non-Anginal Pain', 'Asymptomatic'];
            document.getElementById('chest_pain_value').value = labels[value];
        }

        function updateSexLabel(value) {
            document.getElementById('sex_value').value = value == 0 ? 'Male' : 'Female';
        }

        function updateThalliumLabel(value) {
            const labels = {3: 'Normal', 6: 'Average', 7: 'High'};
            document.getElementById('thallium_scan_value').value = labels[value] || value;
        }

        function updateExerciseLabel(value) {
            document.getElementById('exercise_value').value = value == 0 ? 'No' : 'Yes';
        }

        // Initialize labels on page load
        window.onload = function() {
            updateChestPainLabel(1);
            updateSexLabel(0);
            updateThalliumLabel(3);
            updateExerciseLabel(0);
        }
    </script>
</body>
</html>